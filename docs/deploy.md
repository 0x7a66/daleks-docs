# 部署文档

## 单应用部署

### 1. 编译前端

进入 `fontend` 目录执行
```bash
npm run build 
```
会在 `frontend` 目录下生成 `dist`目录，里面包含所有的前端静态资源。

### 2. 后端打包

在项目根目录下执行 
```bash
mvn clean package -DskipTests
```
该命令会编译后端源码，同时将前端 `dist` 目录下的所有文件打包一起，生成可执行的 `daleks.jar`。

### 3. 运行
```bash
java -jar daleks.jar
```


>编译打包应结合公司的CI/CD要求做相应的调整，同时启动java项目的jvm参数也需要结合公司实际情况调整。


## 拆分项目部署
对于生产环境来说，单应用部署有以下缺点：
1. 任意一个模块的功能修改导致整个服务重新启动
2. 配置管理模块和变量获取模块同引擎耦合在一起

建议分为以下几个模块独立部署
1. 核心引擎
2. 配置管理后台
3. 变量获取服务